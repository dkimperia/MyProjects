Геоданные являются типом пространственно временных данных [1], поэтому вполне естественным для таких данных применение методологии темпоральных данных. Темпоральные данные – это произвольные данные, которые связаны с определенными датами или промежутками времени. Под такое определение попадают все геоданные. Темпоральные базы данных – это базы данных, хранящие темпоральные данные. Такие БД и содержащиеся в них данные могут рассматриваться как темпоральные только в том случае, если известно правило интерпретации временных меток и интервалов для конкретной системы управления базами данных (СУБД). Под такое определение попадают не все базы геоданных.
Для соотнесения СУБД к темпоральным необходимо понять, можно ли выделить и интерпретировать данные атрибута “время”. В категорию темпоральных СУБД не будут попадать обычные реляционные СУБД, в которых поддерживаются связанные со временем типы данных, но интерпретацией и связью данных (или событий) между собой с учетом времени приходится заниматься разработчику. В темпоральной СУБД учитываются специфическая природа времени и изменчивость данных с течением времени.

В темпоральных БД хранятся данные, изменяющиеся с течением времени. Большинство геоданных может храниться в темпоральных БД. Однако в языке запросов SQL отсутствует адекватная и эффективная поддержка работы с темпоральными БД. Традиционная реляционная БД хранит информацию лишь о текущем состоянии, и СУБД не предоставляет возможности работать с данными, привязанными к определенным датам или интервалам времени (то есть темпоральными данными ). Поэтому почти во всех ГИС поддержка работы с такими данными отсутствует

Инфраструктура пространственных данных как основа хранилищ и баз геоданных

Все данные и геоданные помещают в хранилище, которое проектируют подзадачи и структуру хранимых данных. В настоящее время актуальными являются вопросы предоставления пространственной  информации  потребителям и создания условий для межведомственного и межуровневого информационного обмена. Основу пространственной информации составляют геоданные. Однако большой объем данных, накопленный в результате производственной деятельности предприятиями Роскартографии, а также разнообразие форматов, систем координат и технологий затрудняют, а иногда и вовсе препятствуют процессам обмена информацией.

Новые требования рынка, предъявляемые к информации о местности, и развитие информационных технологий обуславливают необходимость поиска новых решений. Выход из сложившейся ситуации видится в создании новых хранилищ, обеспечивающих доступ потребителей к пространственным данным в электронном. За рубежом такие системы получили название «инфраструктуры пространственных данных» (ИПД) [2]. Для Российской Федерации эта задача сформулирована в «Концепции создания и развития российской инфраструктуры пространственных данных» (РИПД) [3], в которой РИПД определена как территориально распределенная система сбора, обработки, хранения и предоставления потребителям пространственных данных. Создание и развитие РИПД является приоритетной задачей для Российской Федерации на ближайшие годы, решение которой возможно только при создании инфраструктур пространственных данных на территории каждого региона РФ по новым единым правилам и стандартам [4].

Длительный период цифровая информация подготавливалась для использования в основном для создания цифровых топографических карт, в рамках существующей классификации (номенклатуры карт), системой условных знаков и атрибутов. Данные в таком виде не пригодны не только для обмена, но и для хранения в объектных базах данных и последующего создания на их основе новых пространственных данных. Поэтому, кроме разработки новых программных компонент для РИПД необходим пересмотр существующих технологических процессов по производству и актуализации пространственных геоданных. Инфраструктура пространственных данных Российской Федерации (РИПД) представляет собой территориально распределенную систему, основными функциями которой являются: сбор, обработка, хранение и предоставление потребителям пространственных данных [5]. По cущеcтву ИПД является системой создания новых информационных ресурсов [6] универсального назначения. Разработка этих систем относится к приоритетным направлениям развития геодезии. В основном ИПД имеют одинаковое назначение и решают три задачи:

Объединение информационных ресурсов множества производителей и пользователей пространственных данных на всех уровнях интеграции: от глобального до территориального или локального;
Обеспечение поиска/доступа к необходимой информации простыми средствами, не требующими специализированного программного обеспечения и подготовки;
Упорядочение пространственной информации в общедоступные каталоги, пригодные для использования в управлении, проектировании и изысканиях [7].
Многолетняя практика разработок концептуальных основ и реализации национальных ИПД позволила выделить в их составе следующие составляющие:

базовая пространственная информация;
базы метаданных;
механизмы доступа и обмена данными;
система стандартизации пространственных данных.
Кроме того, проекты некоторых национальных ИПД содержат компонент – институциональную основу. Это институции, органы, механизмы координации, службы, обеспечивающие ее проектирование и реализацию. По  суще-  ству ФФПД и региональные фонды выполняют функции РИПД. Они хранят базовые и вспомогательные данные. Базовые пространственные данные ФФПД – информация, не содержащая сведений, отнесенных к государственной тайне, о:
координатной системе отсчета Российской Федерации;
пунктах государственных геодезических сетей;
границах между субъектами Российской Федерации, муниципальными образованиями и населенными пунктами;
Государственной границе Российской Федерации;
границах единиц кадастрового деления;
границах земельных участков;
местоположении зданий и сооружений;
наименованиях географических объектов и адресах;
границах зон с особыми условиями использования территорий;
границах территорий, покрытых лесом;
границах поверхностных водных объектов на территории Российской Федерации;
границах особо охраняемых природных территорий;
местоположении автомобильных дорог федерального, регионального, межмуниципального и местного значения;
местоположении железнодорожных путей общего пользования и железнодорожных станций;
причалах, речных и морских портах, аэродромах и аэропортах;
рельефе местности.
К базовым пространственным данным также относится информация, полученная в результате обработки данных дистанционного зондирования Земли и представленная в форме ортофотокарт и ортофотопланов, а также топографические карты. Государственный реестр метаданных о пространственных данных входит в состав федерального фонда пространственных данных и состоит из следующих разделов: 1) метаданные о базовых пространственных данных, содержащихся в федеральном фонде пространственных данных; 2) метаданные о пространственных данных, содержащихся в государ-

ственных и муниципальных информационных системах.

В целях предоставления информации, содержащейся в федеральном фонде пространственных данных, федеральный орган исполнительной власти, осуществляющий функции по оказанию государственных услуг в сфере геодезии и картографии, обеспечивает создание государственных топографических карт и планов. Государственные топографические карты и планы являются формой представления сведений о:

автомобильных дорогах федерального, регионального, межмуниципального и местного значения;
железнодорожных путях общего пользования и железнодорожных станциях;
причалах, речных и морских портах;
аэродромах и аэропортах;
зданиях и сооружениях;
поверхностных водных объектах на территории Российской Федерации;
внутренних морских водах, территориальном море и прилежащей зоне Российской Федерации;
землях, на которых располагаются леса;
населенных пунктах;
субъектах Российской Федерации и муниципальных образованиях;
особо охраняемых природных территориях
Координаты помещают в наборы геоданных, в которых все значения должны принадлежать одной и той же координатной системе отсчета. Каждый набор данных должен содержать описание одной системы координат, которая применена ко всем координатам в наборе данных. Если пространственные данные отнесены более чем к одной системе координат, то они должны быть разделены на две или более соответствующие группы, каждая со своим собственным описанием системы.

Цепочно-узловые модели геоданных

В настоящее время организация хранения геоданных использует разные формы представления. Одна из основных форм представления геоданных – векторная. Развитием векторной модели является векторная пространственная топологическая модель или цепочно-узловая модель. Векторная пространственная топологическая модель используется для хранения в записи взаимосвязей пространственных объектов, значительно расширяющих пространственноаналитические возможности моделей.

Топологические модели – это модели, которые отражают взаимные связи между объектами, не зависящие от геометрических свойств объектов [8]. Напомним, что топологическими свойствами пространственных объектов называют такие, которые не изменяются при любых деформациях, производимых без разрывов или склеиваний.

Топологическая пространственная модель определяется наличием следующих характеристик: связанность векторов; связанность и примыкание районов (информация о взаимном расположении районов и об узлах пресечения районов); пересечение (информация о типах пересечений позволяет воспроизводить мосты и дорожные пересечения) [9].

Топологические модели позволяют представлять элементы карты и всю карту в виде графов. Теоретической основой топологических моделей служат алгебраическая топология и теория графов. Топологические характеристики линейных объектов могут быть представлены визуально с помощью связанных графов. Граф сохраняет структуру модели со всеми узлами и пересечениями. Узлы  графа, описывающего картографическую модель, соот¬ветствуют пересечениям дорог, местам смыкания дорог с мостами, дорожным развязкам и т.п. Ребра такого графа описывают участки дорог и соединяющие их объекты. В данной модели длина ребер может не нести информативной нагрузки [9].

Главная особенность цепочно-узловой модели – огромная роль границ, на основе которых строится все остальное. Все контуры в этой модели данных могут пересекаться друг с другом только в своих концевых точках.

Кроме глобального списка обобществленных узлов имеется глобальный список обобществленных линий. При этом объекты цифровой карты «ссылаются» на те дуги, которые описывают их метрику. Следовательно, в самих структурах объектов теперь хранятся только ссылки на описатели линий (ребер), из которых состоит объект. На общее ребро двух объектов может быть много ссылок – ровно столько, сколько объектов граничит между собой этим ребром. Т.е. на одну дугу может ссылаться любое количество объектов. Структура, кодирующая линию, не содержит координат граничных точек,  а имеет только ссылки на значения с координатами из глобального списка точек. При этом дуги и узлы, т.е. метрика объектов не дублируется. Модель получается более сложной с точки зрения «сборки» метрической информации об одном объекте, но удобной для обновления метрики, поскольку дуги корректируются отдельно от объектов и не нужно заботиться об отслеживании дублированного описания.

Топологические характеристики ареальных объектов представляют с помощью графов двух типов: покрытия и смежности. Граф покрытия площадных объектов – это модель, которая упрощенно отображает реальное расположение объектов. Можно сказать, что граф покрытия соответствует видимой пространственной реальности. Граф покрытия площадных объектов соответствует (топологически гомоморфен) контурной карте соответствующих районов. Ребра такого графа описывают границы между районами, а его узлы представляют точки смыкания районов. Степень вершины такого графа – это число районов, которые в ней смыкаются.

Граф смежности площадных объектов – это модель, которая отображает связи между пространственными объектами. Можно сказать, что граф смежности соответствует связям пространственной реальности. Эта модель искусственная, ее назначение – пространственный анализ связей между объектами. В нем районы отображаются узлами, а пара смыкающихся районов – ребрами. Используя такой граф можно определить, является ли проходимой рассматриваемая территория, разделенная на проходимые или непроходимые участки. Топологические характеристики описывают только одну сторону пространственных объектов – их связи. Поэтому для полноты описания они сопровождаются позиционной и описательной информацией.

Важность топологически и геометрически точных картографических  покрытий  особенно актуальна в БД. С помощью топологически точной, но геометрически неточной ГИС нельзя измерить расстояние и координаты, неполнота  в описании элементов топологии не позволит определить взаимоотношения объектов. Цепочно-узловая модель, в виду использования общих границ, является достаточно эффективной при обновлении и пространственном анализе объектов. Однако с технической точки зрения она довольно сложна при реализации. Векторная модель (топологическая и не топологическая) являются главными при хранении, использовании и отображении  метрической  информации  о пространственных объектах. Но именно она предъявляет повышенные требования к обновлению.

Темпоральные характеристики геоданных

Временные характеристики всегда входят в геоданные, однако форма их описания может быть различной: явной и неявной. Именно от описания геоданных зависит свойство темпоральность, как возможность использования для геоданных темпоральной логики и темпоральных моделей. Можно определить темпоральность геоданных как свойство, заключающееся в явной форме выражения временных характеристик, делающих возможной применении теории темпоральных данных [10] и темпоральных баз данных [11].

Для этого необходимо ввести понятие «тип времени». Типом времени, который рассматривается в темпоральных БД, является время операции, или транзакционное время. В любой СУБД каждой записи БД можно сопоставить  тот промежуток времени, когда данная запись была представлена в БД, т.е. промежуток времени между моментами добавления записи и ее удаления из БД. При этом отметим, что операция обновления,  которая  вносит  изменения  в запись, понимается как составная операция удаления старой записи и добавления новой. При этом значения времени операции не имеют отношение к значениям времени геоданных. Во многих типах СУБД время операции фиксируется в журнале.

Говоря о типах времени геоданных, необходимо применить понятие гранулярности времени. Гранулярность времени [12] показывает, насколько близкие моменты на оси времени все еще будут отличимыми друг от друга. Например, для данных о наблюдении за деформациями инженерных сооружений достаточно использования интервалов времени фиксации по неделям или по 10 дням, а для времени мониторинга пожаров по данным дистанционного зондирования может быть использовано разбиение интервала наблюдения по часам. С каждым типом времени может быть связан некий дескриптор-календарь, который определяет диапазоны значений, гранулярность времени и прочие характеристики.

В связи с этим выделяют интервальное и точечное представление данных или фактов. Точечное представление функции определяет ее значение в каждой точке, описываемой ее аргументами. Интервальное значение функции задается одинаковым для интервала  аргументов. В случае точечного представления базы данных ЛПР получает срез всех фактов на какой-то конкретный момент времени. При интервальном представлении БД задается определенный факт и временные периоды его истинности. Для сравнения, обычная «четкая» реляционная модель опирается на точечное представление для актуального состояния данных. Нечеткие модели используют интервальные значения.

Со временем фиксации факта, и со временем операции связывается домен “Время”,  который может дискретным или непрерывным. Для представления времени в базе геоданных (БГД) применяется домен с конечными и дискретными значениями. Как правило, значения времени в домене упорядочены. Момент времени актуализации геоданных в БД, является временем выполнения операции. Для описания объектов модели геоданных может быть использована нотация методологии информационного проектирования [13].

В этой нотации сущность на ER-диаграмме представляется прямоугольником с именем в верхней части. В прямоугольнике перечисляются атрибуты сущности; при этом  атрибуты, составляющие уникальный идентификатор сущности, подчеркиваются. Для атрибутов может быть задан домен. Такое представление геоданных не очень удобно для двумерной реляционной модели. именно поэтому сдерживается применение темпоральных методов в геоинформатике.

Обработка временных данных требует критериев поиска по диапазону, что приводит к использованию соединений таблиц, которые строятся на отношениях неравенств. Механизм выполнения таких соединений является проблемой в реляционных БД. Кроме того, для темпоральны данных часто требуется соединять таблицы на основе перекрытия диапазонов дат, что приводит к нарушению условия однозначности. В языке SQL нет операции, позволяющей непосредственно задать такое соединение, и приходится применять процедурный подход к реализации таких запросов.
Таким образом, темпоральная модель геоданных отличается от традиционных моделей геоданных наличием формы представления времени, которое фиксируется  в  базе  геоданных  с помощью так называемых временных меток (time stamp). Временные метки можно рассматривать как атрибуты, связанные с фиксацией показаний времени. Исследование временных меток предметной области является одной из главных задач при обновлении геоданных, поскольку временные метки могут иметь несколько значений, т.е. неоднозначную интерпретацию в рамках предметной области.

При обновлении геоданных применяют следующие интерпретации временных меток. Время фиксации события или факта (Valid  time), т.е. так называемая действительная дата – это временная метка, которая представляет время события или состояния предметной области,  как уже было указано в предыдущем разделе. Например, это дата подписи на документе, показания времени, снятые с контролирующих приборов, дата отгрузки проданного товара со склада и т.д.

Время операции (Transaction time) – это временная метка, представляющая время, когда была выполнена операция хозяйственной деятельности организации, как  уже  было указано в предыдущем разделе. Время сбора данных (Capture time) – это временная метка, представляющая время, когда данные были извлечены или собраны из источника данных (возможно, некоторой внешней БД). Время актуализации данных (Apply time) – это временная метка, связанная со временем загрузки данных в БГД. Время, определяемое пользователем (Userdefined time) – это временная метка, представляющая момент или моменты времени, которые пользователь намерен хранить в атрибуте сущности, но непосредственно не связанные с фиксацией временной зависимости в модели данных.

Концепции программы логического обновления геоданных

Основная концепция обновления геоданных строится на применение модальной и темпоральной логики. Вторая концепция строится на разделении системы логического обновления данных (ЛОГ), как некой концептуально-формальной схемы, и программы логического обновления данных (ПЛОГ), как некой реализации или механизма обновления. При этом надо различать программу логического обновления данных и технологические программы обновления данных. Программа логического обновления данных является надстройкой и служит индикатором необходимости обновления данных. Технологические программы в сочетании с эвристическими методами реализуют собственно сам процесс вода информации и ее актуализацию.

Применение программы логического обновления геоданных  (ПЛОГ)  в  базах  геоданных  и геоинформационных системах предъявляет требования корректности к системам ЛОГ. В настоящее время накоплены определенные теоретические знания и опыт использования существующих разработок в области формальных методов моделирования и анализа программных систем. Программирование ЛОГ представляет собой прикладную область, в которой опыт существующих исследований в области проверки моделей и верификации программ [14] может быть успешно использован.

Геоданные хорошо структурированы, поэтому программы их обновления имеют небольшой размер и небольшое конечное пространство состояний. Это обуславливает возможность применения к ним формального (и в том числе автоматического) анализа корректности.

Необходимо дать различие между такими программами и стандартными вычислительными программами. Стандартная программа принимает на вход некоторые данные, выполняет необходимые вычисления и выдает результат. Таким образом, подобную (классическую) программу можно рассматривать как реализацию некой функции. Главная функция классической программы состоит в трансформации пространства входных данных в пространство выходных данных, что также можно  интерпретировать как перевод данных из исходного состояния в конечное состояние при завершении вычислительного процесса. При этом все рассуждения сохраняют силу для геоданных. При такой работе программа выполняет основные функции обработки. Кроме того следует отметить, что в терминах состояний «классическая» программа переводит результата вычислений или действий в целевое, конечное состояние. Доминантой в этом случае является достижение конечного состояния.

В отличие от стандартной программы реактивная программа не предполагает обязательного завершения вычислений. Такая программа

«реагирует» на входные воздействия, отвечая на каждое воздействие в соответствии с заданным алгоритмом или системой правил. По существу такая программа выполняет сервисные функции. При этом в терминах состояний автоматная программа переводит данные из начального состояния в некоторое иное состояние, которое может быть конечным или промежуточным.

Особенность автоматного программирования заключается в явном выделении состояний и переходов между ними. По этой причине автоматное программирование также часто называют

«программированием с использованием состояний». Процесс исполнения программы заключается в последовательных переходах между состояниями и выполнении определенных действий (зависящей от состояния или перехода). Доминантной при автоматном программировании являются переход между состояниями и механизмы осуществления этих переходов.

Наличие такого механизма дает возможность проанализировать промежуточные состояния между начальным и конечным и делает данный механизм незаменимым инструментом для верификации программ. Однако данный механизм может быть использован и для обновления геоданных в базах геоданных (БГД).

Программа логического обновления геоданных (ПЛОГ) представляет собой конечный автомат, который использует множество состояний геоданных и переходов между ними. Каждый переход характеризуется парой состояний, между которыми осуществляется переход, событием, при котором он может осуществиться, и условием, выполнимость которого требуется для перехода.

Определим систему логического обновления геоданных (ЛОГ) как — «реагирующую» систему, представляющую собой программно управляемый дискретный автомат, имеющий конечное множество входов (актуальности), подключенных связей актуализации к набору геоданных, и множество выходов, подключенных  к технологическим программам обновления. ПЛОГ контролирует состояния входов и вырабатывает определенные последовательности программно заданных действий, отражающихся в изменении выходов. ПЛОГ предназначена для работы в режиме реального времени

Темпоральные компоненты геоданных событий генерируют события, а система логического обновления геоданных (ЛОГ) по каждому событию может совершать или не совершать переход на обновление, запрашивая текущие параметры обновления для проверки условий перехода на обновление. Такое описание подходит для реактивных (реагирующих) систем, так как в нем естественным образом выделены их компоненты.

Семантика состояния геоданных может быть представлена как «снимок» всей системы геоданных или «мгновенное описание» системы. Между этими понятиями есть разница, которая ярко проявляется при работе с системами больших данных [15].

Для систем обновления геоданных (которые относятся к реагирующим) характерно «бесконечное» выполнение – они работают неограниченно долго. Результат действия такой системы обновления – бесконечная последовательность состояний, где каждое следующее состояние получается переходом из предыдущего. Задача ЛОГ состоит в проверке необходимости обновления геоданных на основе концепции Model Checking [16], которая задается системой переходов (структурой Крипке), свойства, выраженного формулой темпоральной логики. Таким образом, система ЛОГ формально может быть представлена в виде графа переходов. Для построения такого графа применяют модель, которую называют структурой Крипке [17] или моделью Крипке [18]. Структурой Крипке над множеством элементарных высказываний P называется система переходов S = (S, s0, →, L),

где S — конечное множество состояний (мо-

дели программы),

s0 С S — начальное состояние,

R С S х S — отношение переходов,

L : S → 2Р — функция, помечающая каждое состояние множеством элементарных высказываний, истинных в этом состоянии.

Путь в структуре Крипке из состояния s0 – это бесконечная последовательность состояний π = s0s1s2 … такая, что для всех i > 0 выполняет-

ся Si → Si+i. Для пути π = sosis2 sisi+isi+2 … имеем

πi= sisi+1si+2 … и π(i) = si.

В качестве языка спецификации свойств про-

граммной модели ПЛОГ рассматривается язык темпоральной логики линейного времени LTL (Linear-Time Logic). Выбор логики LTL связывается с тем, что программа  ПЛОГ  является классической реактивной системой, которая, будучи однажды запущенной, должна иметь корректное бесконечное поведение. Условия корректности удобно задавать в виде шаблонов свойств, которым должны соответствовать корректные исполнения программы. В темпоральной логике LTL каждая формула по сути представляет собой такой шаблон. Формулы логики LTL строятся по следующей грамматике при [19]

pi С P (0 < i < n):

φ,ψ ::= true | p0 | р1 | … | pn | ¬ φ | ψ /\ φ| Хφ | ψ U φ | F φ | G φ.

Формула логики LTL описывает свойство одного пути структуры Крипке, выходящего из некоторого выделенного текущего состояния. Темпоральные операторы X, F, G и U имеют следующую интерпретацию:

Хφ (neXt ) означает, что формула φ должна выполняться в следующем темпоральном состоянии,

Fφ (Finally) означает, что формула φ должна выполняться в некотором будущем состоянии пути,

Gφ (Globally) означает, что формула φ должна выполняться в текущем состоянии и во всех будущих состояниях пути,

ψ U φ (Until) означает, что φ должна выполняться в текущем или будущем состоянии при том, что во всех состояниях (начиная с текущего) до этого момента должна выполняться формула ψ.

R (Release) : ψRφ – либо во всех состояниях выполняется φ, либо существует состояние, в котором выполняется ψ, а во всех предыдущих выполнено φ.

Операторы F и G являются производными и вводятся для удобства спецификации свойств: F φ = true U φ, G φ = ¬ F. ¬φ

Кроме того, далее будут использоваться классические логические связки V и =>: φ1 V φ2 =

¬ (¬φ1 /\ ¬ φ2), φ1 => φ2 = ¬ φ1 V φ2.

Формально отношение выполнимости = фор-

мулы логики LTL для некоторого пути π структуры Крипке S над P индуктивно определяется следующим образом: π = true; n|¹ false;

Здесь |= называют оператором индуктивности [20].

Структура Крипке удовлетворяет формуле (свойству) φ логики LTL, если ψ выполняется для всех путей, выходящих из начального состояния s0

Перспективы Науки и Образования. 2015. 1 (13)

Заключение

Анализ представления геоданных, баз геоданных и современных методов обработки временной информации позволяет сформулировать основные концепции обновления геоданных в базах и хранилищах геоданных. Целесообразно создавать новую форму представления временной компоненты геоданных в виде временных меток. Такие геоданные целесообразно обозначить термином «явные темпоральные геоданные». Для этой цели необходимо ввести понятие «тип времени». Семантику состояния геоданных целесообразно представлять в двух вариантах как «снимок» всей системы геоданных при небольших объемах геоданных и как дескриптивное описание при больших объемах геоданных. В качестве методики обновления целесообразно использовать темпоральную логику и темпоральные модели. Целесообразно разделение системы логического обновления геоданных (ЛОГ) как схемы-концепции и программы логического обновления геоданных (ПЛОГ). Программу логического обновления геоданных целесообразно реализовать в виде автомата-индикатора. Целесообразно разделение программы индикатора обновления и программ технологического обновления. Целесообразно создавать систему логического обновления геоданных на основе структуры Крипке. Целесообразно создавать программу обновления геоданных как индикатор – автомат, подключенный к технологическим программам обновления. Программа логического обновления данных является надстройкой и служит индикатором необходимости обновления данных. Технологические программы в сочетании с эвристическими методами реализуют собственно сам процесс вода информации и ее актуализацию. Технологические программы обновления геоданных требуют верификации для контроля правильности обновления геоданных.